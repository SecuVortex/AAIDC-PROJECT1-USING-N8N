{
  "name": "first rag agent",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        -336,
        208
      ],
      "id": "3d946095-f5d9-43c4-a38f-92a5850f7d89",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -352,
        432
      ],
      "id": "81a1dcd7-1dbc-48bc-9e94-2d2297182a87",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "rVU19gwv9lKwpZnU",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.3,
      "position": [
        -624,
        208
      ],
      "id": "ed93afe9-d242-4e23-9e72-1c74be992221",
      "name": "When chat message received",
      "webhookId": "7b58356b-624a-436e-8713-4deb35e70cc6"
    },
    {
      "parameters": {
        "mode": "insert",
        "memoryKey": {
          "__rl": true,
          "mode": "list",
          "value": "vector_store_key"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreInMemory",
      "typeVersion": 1.3,
      "position": [
        -384,
        -320
      ],
      "id": "d6c8fe65-81f1-48aa-9473-0de069b927c7",
      "name": "Simple Vector Store"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.embeddingsGoogleGemini",
      "typeVersion": 1,
      "position": [
        -400,
        -96
      ],
      "id": "e037b5d6-3aa8-4759-bc50-af7184d882cc",
      "name": "Embeddings Google Gemini",
      "credentials": {
        "googlePalmApi": {
          "id": "rVU19gwv9lKwpZnU",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "dataType": "binary",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "typeVersion": 1.1,
      "position": [
        -240,
        -112
      ],
      "id": "d828ac52-bb8c-4e1c-aa93-1be2daf63552",
      "name": "Default Data Loader"
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolName": "knowledge_base",
        "toolDescription": "Use this knowledge base to answer questions from the user",
        "memoryKey": {
          "__rl": true,
          "mode": "list",
          "value": "vector_store_key"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreInMemory",
      "typeVersion": 1.2,
      "position": [
        -336,
        80
      ],
      "id": "d348a12a-4d64-4b62-8ae1-78d4c497be5a",
      "name": "Query Data Tool"
    },
    {
      "parameters": {
        "formTitle": "Upload your data to test RAG",
        "formFields": {
          "values": [
            {
              "fieldLabel": "Upload your file(s)",
              "fieldType": "file",
              "acceptFileTypes": ".pdf, .csv ",
              "requiredField": true
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.formTrigger",
      "typeVersion": 2.2,
      "position": [
        -592,
        -336
      ],
      "id": "ddc12cb4-d670-4d2c-aa7e-7d0b317650a4",
      "name": "Upload your file here",
      "webhookId": "82848bc4-5ea2-4e5a-8bb6-3c09b94a8c5d"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        -240,
        512
      ],
      "id": "bfefe54a-589a-48b4-8aad-177c031556ad",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "content": "# First RAG Agent Workflow\n\n---\n\n## Overview\nThis workflow sets up a simple Retrieval-Augmented Generation (RAG) agent using n8n and Google Gemini APIs. It allows uploading company documents (PDF or CSV) to create a custom knowledge base, and then chat with an AI that answers questions based on your uploaded data.\n\n\n\n## Setup\n- Enter your Google Gemini API credentials in the workflow to enable AI services.\n- Import the provided workflow JSON file into your n8n instance.\n- Activate the webhook URL from the \"When chat message received\" node.\n\n---\n\n## Uploading Data\n- Trigger the \"Upload your file\" node to get a link.\n- Open the link in a browser and upload your company documents (PDF or CSV formats).\n- The uploaded documents will be converted into embeddings and stored for semantic search.\n\n---\n\n## Using the Chat\n- Use the chat node webhook URL to send questions.\n- The AI will respond with answers informed by your uploaded documents.\n\n---\n\n## Notes\n- This RAG agent uses in-memory vector storage; uploaded data will not persist after workflow restarts.\n- Designed for testing and experimentation with retrieval-based generation.\n- Supported upload formats: PDF, CSV.\n\n---\n\nFeel free to customize this readme with your project-specific details or instructions.\n",
        "height": 1008,
        "width": 608
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -1312,
        -368
      ],
      "id": "6f3e8fac-7032-417c-8aea-0ca7fca87684",
      "name": "Sticky Note"
    }
  ],
  "pinData": {},
  "connections": {
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings Google Gemini": {
      "ai_embedding": [
        [
          {
            "node": "Simple Vector Store",
            "type": "ai_embedding",
            "index": 0
          },
          {
            "node": "Query Data Tool",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Default Data Loader": {
      "ai_document": [
        [
          {
            "node": "Simple Vector Store",
            "type": "ai_document",
            "index": 0
          }
        ]
      ]
    },
    "Query Data Tool": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Upload your file here": {
      "main": [
        [
          {
            "node": "Simple Vector Store",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        []
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "fe316fb5-b572-461d-9600-047dc4e3d8de",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "55b0585767302fd87b51f69078cbfd44ee18187d627d98b539b46666381a3a9d"
  },
  "id": "LSSinOwjFetFYIkv",
  "tags": []
}
